"use strict";function iniciarFunctions(){navMobile(),showPassword(),changeTabs(),scrollToTop(),darkMode(),alertForm(),validarFecha(),validarRegistro(),validarAcceder(),validarContacto(),validarRestablecer(),inputFile()}function navMobile(){const e=document.querySelector(".nav__buttons .button__hamburger"),t=document.querySelector(".nav-mobile .nav-mobile__close"),o=document.querySelector(".header .overlay"),a=document.querySelector(".header .nav-mobile"),n=document.querySelector("body");e.addEventListener("click",()=>{a.classList.toggle("show-nav-mobile"),o.classList.toggle("overlay-active"),n.classList.toggle("block-body")}),t.addEventListener("click",()=>{a.classList.remove("show-nav-mobile"),o.classList.remove("overlay-active"),n.classList.remove("block-body")}),o.addEventListener("click",e=>{e.target===o&&(a.classList.remove("show-nav-mobile"),o.classList.remove("overlay-active"),n.classList.remove("block-body"))})}function scrollToTop(){const e=document.querySelector(".to-top__button");window.addEventListener("scroll",()=>{window.scrollY>300?e.classList.add("show-button"):e.classList.remove("show-button")}),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}function darkMode(){const e=document.querySelector(".light-mode__button"),t=document.querySelector(".light-mode__img--dark"),o=document.querySelector(".light-mode__img--light"),a=window.matchMedia("(prefers-color-scheme: light)");function n(e){e?(document.body.classList.add("light-mode"),t.classList.add("hidden"),o.classList.remove("hidden"),localStorage.setItem("colorMode","light")):(document.body.classList.remove("light-mode"),t.classList.remove("hidden"),o.classList.add("hidden"),localStorage.setItem("colorMode","dark"))}const r=localStorage.getItem("colorMode");n(r?"light"===r:a.matches),a.addEventListener("change",e=>{localStorage.getItem("colorMode")||n(e.matches)}),e.addEventListener("click",()=>{n(!document.body.classList.contains("light-mode"))})}function showPassword(){document.querySelectorAll('.login INPUT[type="password"]').forEach(e=>{const t=e.parentElement.querySelector(".contrasenia__button"),o=t.querySelector(".contrasenia__icon-eye--on"),a=t.querySelector(".contrasenia__icon-eye--off");t.addEventListener("click",()=>{"password"===e.type?(o.classList.toggle("hidden"),a.classList.toggle("hidden"),e.type="text"):(o.classList.toggle("hidden"),a.classList.toggle("hidden"),e.type="password")})})}function changeTabs(){const e=document.querySelectorAll(".nav-tabs__item .nav-link"),t=document.querySelectorAll(".tab-section");function o(e){t.forEach(e=>e.classList.add("hidden")),document.querySelector(e).classList.remove("hidden")}0!==e.length&&0!==t.length&&(o(e[0].getAttribute("href")),e[0].classList.add("active"),e.forEach(t=>{t.addEventListener("click",a=>{a.preventDefault(),e.forEach(e=>e.classList.remove("active")),t.classList.add("active");o(t.getAttribute("href"))})}))}function alertForm(){document.querySelectorAll(".form-eliminar").forEach(e=>{e.addEventListener("submit",t=>{t.preventDefault();const o=e.querySelector('input[name="tipo"]'),a=o?o.value:"";let n="⚠️ ¿Estás seguro que quieres eliminar este elemento? \n Se eliminará definitivamente.";"boxeador"===a?n="⚠️ ¿Estás seguro que quieres eliminar este boxeador? \n Se eliminará definitivamente.":"velada"===a&&(n="⚠️ ¿Estás seguro que quieres eliminar esta velada? \n Se eliminará definitivamente.");confirm(n)&&e.submit()})})}function validarFecha(){const e=document.getElementById("fecha");if(!e)return;const t=new Date,o=`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`;e.min=o}function validarRegistro(){const e=document.querySelector(".registrarse-form");if(!e)return;const t=e.querySelector("#nombre"),o=e.querySelector("#email"),a=e.querySelector("#contrasenia"),n=e.querySelector("#comfirm_contrasenia"),r=e.querySelector(".registrarse-form__alert");e.addEventListener("submit",i=>{i.preventDefault();let s=[];t.value.trim()||s.push("El nombre es obligatorio."),o.value.trim()||s.push("El correo es obligatorio."),a.value.trim()||s.push("La contraseña es obligatoria."),a.value&&!n.value.trim()&&s.push("Confirma la contraseña.");t.value.trim()&&!/^[A-Za-zÁÉÍÓÚÜáéíóúü]+(?: [A-Za-zÁÉÍÓÚÜáéíóúü]+)*$/.test(t.value)&&s.push("El nombre solo puede contener letras minúsculas, mayúsculas y tildes. Sin espacios al inicio o al final."),t.value.trim()&&t.value.length<4&&s.push("El nombre debe tener al menos 4 caracteres.");o.value.trim()&&!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(o.value)&&s.push("El correo introducido no es valido.");a.value.trim()&&!/^(?=.*[A-Z])(?=.*[\W_]).+$/.test(a.value)&&s.push("La contraseña debe contener al menos una letra mayúscula y un carácter especial (!@#$%^&*.,)"),a.value&&n.value&&a.value!==n.value&&s.push("Las contraseñas no coinciden."),a.value&&a.value.length<8&&s.push("La contraseña debe tener al menos 8 caracteres."),s.length>0?(r.innerHTML=s.join("<br>"),r.classList.remove("hidden")):(r.classList.add("hidden"),e.submit())})}function validarRestablecer(){const e=document.querySelector(".restablecer-form");if(!e)return;const t=e.querySelector("#email"),o=e.querySelector("#contrasenia"),a=e.querySelector("#comfirm_contrasenia"),n=e.querySelector(".restablecer-form__alert");e.addEventListener("submit",r=>{r.preventDefault();let i=[];t.value.trim()||i.push("El correo es obligatorio."),o.value.trim()||i.push("La contraseña es obligatoria."),o.value&&!a.value.trim()&&i.push("Confirma la contraseña.");t.value.trim()&&!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(t.value)&&i.push("El correo introducido no es valido.");o.value.trim()&&!/^(?=.*[A-Z])(?=.*[\W_]).+$/.test(o.value)&&i.push("La contraseña debe contener al menos una letra mayúscula y un carácter especial (!@#$%^&*.,)"),o.value&&a.value&&o.value!==a.value&&i.push("Las contraseñas no coinciden."),o.value&&o.value.length<8&&i.push("La contraseña debe tener al menos 8 caracteres."),i.length>0?(n.innerHTML=i.join("<br>"),n.classList.remove("hidden")):(n.classList.add("hidden"),e.submit())})}function validarAcceder(){const e=document.querySelector(".acceder-form");if(!e)return;const t=e.querySelector("#email_acceder"),o=e.querySelector("#contrasenia_acceder"),a=e.querySelector(".acceder-form__alert");e.addEventListener("submit",n=>{n.preventDefault();let r=[];t.value.trim()||r.push("El correo es obligatorio."),o.value.trim()||r.push("La contraseña es obligatoria.");t.value.trim()&&!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(t.value)&&r.push("El correo introducido no es valido."),r.length>0?(a.innerHTML=r.join("<br>"),a.classList.remove("hidden")):(a.classList.add("hidden"),e.submit())})}function validarContacto(){const e=document.querySelector(".contacto-form");if(!e)return;const t=e.querySelector("#nombre"),o=e.querySelector("#email"),a=e.querySelector("#telefono"),n=e.querySelector("#mensaje"),r=e.querySelector(".contacto-form__alert");e.addEventListener("submit",i=>{i.preventDefault();let s=[];t.value.trim()||(s.push("El nombre es obligatorio."),t.focus()),a.value.trim()||s.push("El teléfono es obligatorio."),o.value.trim()||s.push("El correo es obligatorio."),n.value.trim()||s.push("El mensaje es obligatorio."),t.value&&t.value.length<4&&s.push("El nombre debe tener al menos 4 caracteres.");o.value.trim()&&!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,4})+$/.test(o.value)&&s.push("El correo introducido no es valido.");a.addEventListener("input",(function(){this.value=this.value.replace(/[^0-9]/g,""),this.value.length>9&&(this.value=this.value.slice(0,9))})),a.value.trim()&&9!==a.value.length&&s.push("El número de teléfono debe contener 9 dígitos."),9!=a.value.length||/^[6789][0-9]{8}$/.test(a.value)||s.push("El teléfono debe empezar por 6, 7, 8 ó 9."),s.length>0?(r.innerHTML=s.join("<br>"),r.classList.remove("hidden")):(r.classList.add("hidden"),e.submit())})}function inputFile(){const e=document.querySelector("#imagen_cartelera"),t=document.querySelector(".imagen-preview .figure");(e||t)&&e.addEventListener("change",(function(e){const o=e.target,a=o.files[0],n=document.querySelector(".nombre-archivo-cartelera");if(a){const e=new FileReader,o=t.querySelector("img");o&&o.remove(),e.addEventListener("load",(function(e){const o=e.target,a=document.createElement("img");a.src=o.result,a.classList.add("figure-img","img-fluid","rounded","shadow"),a.alt="Imagen de la cartelera seleccionada.",t.appendChild(a)})),e.readAsDataURL(a)}o.files.length>0?n.textContent=o.files[0].name:n.textContent="Subir archivo"}))}document.addEventListener("DOMContentLoaded",(function(){iniciarFunctions()})),function(e,t,o){function a(e,t){return typeof e===t}function n(e){var t=d.className,o=c._config.classPrefix||"";if(m&&(t=t.baseVal),c._config.enableJSClass){var a=new RegExp("(^|\\s)"+o+"no-js(\\s|$)");t=t.replace(a,"$1"+o+"js$2")}c._config.enableClasses&&(t+=" "+o+e.join(" "+o),m?d.className.baseVal=t:d.className=t)}function r(e,t){if("object"==typeof e)for(var o in e)u(e,o)&&r(o,e[o]);else{var a=(e=e.toLowerCase()).split("."),i=c[a[0]];if(2==a.length&&(i=i[a[1]]),void 0!==i)return c;t="function"==typeof t?t():t,1==a.length?c[a[0]]=t:(!c[a[0]]||c[a[0]]instanceof Boolean||(c[a[0]]=new Boolean(c[a[0]])),c[a[0]][a[1]]=t),n([(t&&0!=t?"":"no-")+a.join("-")]),c._trigger(e,t)}return c}var i=[],s=[],l={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var o=this;setTimeout((function(){t(o[e])}),0)},addTest:function(e,t,o){s.push({name:e,fn:t,options:o})},addAsyncTest:function(e){s.push({name:null,fn:e})}},c=function(){};c.prototype=l,c=new c;var u,d=t.documentElement,m="svg"===d.nodeName.toLowerCase();!function(){var e={}.hasOwnProperty;u=a(e,"undefined")||a(e.call,"undefined")?function(e,t){return t in e&&a(e.constructor.prototype[t],"undefined")}:function(t,o){return e.call(t,o)}}(),l._l={},l.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),c.hasOwnProperty(e)&&setTimeout((function(){c._trigger(e,c[e])}),0)},l._trigger=function(e,t){if(this._l[e]){var o=this._l[e];setTimeout((function(){var e;for(e=0;e<o.length;e++)(0,o[e])(t)}),0),delete this._l[e]}},c._q.push((function(){l.addTest=r})),c.addAsyncTest((function(){function e(e,t,o){function a(t){var a=!(!t||"load"!==t.type)&&1==n.width;r(e,"webp"===e&&a?new Boolean(a):a),o&&o(t)}var n=new Image;n.onerror=a,n.onload=a,n.src=t}var t=[{uri:"data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA=",name:"webp"},{uri:"data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",name:"webp.alpha"},{uri:"data:image/webp;base64,UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA",name:"webp.animation"},{uri:"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",name:"webp.lossless"}],o=t.shift();e(o.name,o.uri,(function(o){if(o&&"load"===o.type)for(var a=0;a<t.length;a++)e(t[a].name,t[a].uri)}))})),function(){var e,t,o,n,r,l;for(var u in s)if(s.hasOwnProperty(u)){if(e=[],(t=s[u]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(o=0;o<t.options.aliases.length;o++)e.push(t.options.aliases[o].toLowerCase());for(n=a(t.fn,"function")?t.fn():t.fn,r=0;r<e.length;r++)1===(l=e[r].split(".")).length?c[l[0]]=n:(!c[l[0]]||c[l[0]]instanceof Boolean||(c[l[0]]=new Boolean(c[l[0]])),c[l[0]][l[1]]=n),i.push((n?"":"no-")+l.join("-"))}}(),n(i),delete l.addTest,delete l.addAsyncTest;for(var v=0;v<c._q.length;v++)c._q[v]();e.Modernizr=c}(window,document);
//# sourceMappingURL=bundle.min.js.map
